<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>PIXEL NFT Viewer – PIXELONKAS & SYKORA</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --bg: #050608;
      --card-bg: #101218;
      --accent: #00c4ff;
      --accent-soft: rgba(0, 196, 255, 0.12);
      --text-main: #f5f5f5;
      --text-muted: #a0a4b8;
      --border-subtle: #262938;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text",
        "Segoe UI", sans-serif;
      background: radial-gradient(circle at top, #121623 0, #050608 52%);
      color: var(--text-main);
      min-height: 100vh;
    }

    .app {
      max-width: 1100px;
      margin: 0 auto;
      padding: 24px 16px 48px;
    }

    header {
      text-align: center;
      margin-bottom: 24px;
    }

    header h1 {
      margin: 8px 0 4px;
      font-size: 2.1rem;
      letter-spacing: 0.12em;
      text-transform: uppercase;
    }

    header p {
      margin: 0;
      font-size: 0.95rem;
      color: var(--text-muted);
    }

    .collection-switcher {
      display: inline-flex;
      padding: 4px;
      background: rgba(10, 12, 18, 0.9);
      border-radius: 999px;
      border: 1px solid var(--border-subtle);
      margin: 28px auto 16px;
    }

    .collection-button {
      border: none;
      background: transparent;
      color: var(--text-muted);
      padding: 8px 18px;
      border-radius: 999px;
      font-size: 0.9rem;
      cursor: pointer;
      transition: background 0.2s, color 0.2s;
    }

    .collection-button.active {
      background: var(--accent-soft);
      color: var(--accent);
    }

    .meta-bar {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 16px;
      margin-bottom: 24px;
      font-size: 0.85rem;
      color: var(--text-muted);
    }

    .meta-pill {
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid var(--border-subtle);
      background: rgba(5, 7, 11, 0.9);
    }

    .meta-pill span {
      color: var(--accent);
      margin-left: 4px;
    }

    .nft-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
      gap: 18px;
    }

    .nft-card {
      background: var(--card-bg);
      border-radius: 14px;
      border: 1px solid var(--border-subtle);
      padding: 12px 12px 14px;
      display: flex;
      flex-direction: column;
      gap: 8px;
      box-shadow: 0 18px 35px rgba(0, 0, 0, 0.5);
      transition: transform 0.15s ease-out, box-shadow 0.15s ease-out,
        border-color 0.15s;
    }

    .nft-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 24px 40px rgba(0, 0, 0, 0.7);
      border-color: var(--accent-soft);
    }

    .nft-thumb-wrapper {
      background: #000;
      border-radius: 10px;
      overflow: hidden;
      aspect-ratio: 1 / 1;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .nft-thumb {
      max-width: 100%;
      max-height: 100%;
      display: block;
    }

    .nft-title {
      font-size: 0.98rem;
      font-weight: 600;
    }

    .nft-meta {
      font-size: 0.8rem;
      color: var(--text-muted);
      display: flex;
      justify-content: space-between;
      gap: 8px;
    }

    .nft-actions {
      margin-top: 4px;
      display: flex;
      justify-content: space-between;
      gap: 8px;
      align-items: center;
    }

    .nft-link {
      font-size: 0.8rem;
      text-decoration: none;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid var(--accent);
      color: var(--accent);
      background: transparent;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      transition: background 0.15s, color 0.15s;
      white-space: nowrap;
    }

    .nft-link:hover {
      background: var(--accent);
      color: #020308;
    }

    .nft-link-secondary {
      font-size: 0.75rem;
      color: var(--text-muted);
      text-decoration: none;
      opacity: 0.9;
    }

    .status-area {
      text-align: center;
      margin: 18px 0 8px;
      font-size: 0.85rem;
      color: var(--text-muted);
    }

    .status-area strong {
      color: var(--accent);
    }

    @media (max-width: 600px) {
      header h1 {
        font-size: 1.6rem;
      }

      .collection-switcher {
        width: 100%;
        justify-content: space-between;
      }
    }
  </style>
</head>
<body>
  <div class="app">
    <header>
      <h1>Pixel on Kaspa</h1>
      <p>Audio-visual art generated by sound and inscribed on the Kaspa blockDAG.</p>

      <div class="collection-switcher">
        <button class="collection-button active" data-collection="pixelonkas">
          PIXELONKAS
        </button>
        <button class="collection-button" data-collection="sykora">
          SYKORA
        </button>
      </div>
    </header>

    <div id="meta" class="meta-bar"></div>
    <div id="status" class="status-area"></div>
    <div id="grid" class="nft-grid"></div>
  </div>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const collections = {
      pixelonkas: {
        name: "PIXELONKAS",
        ticker: "PIXELONKAS",
        explorerUrl: "https://kaspa.com/nft/collections/PIXELONKAS",
        totalSupply: 342,
        totalMinted: 21,
        floorPriceKas: 500,
        mintPriceKas: 287,
        items: [
          {
            tokenId: 259,
            name: "PIXELONKAS #259",
            image: "/assets/img/PIXELONKAS_259.png",
            listedPriceKas: 500
          }
        ]
      },
      sykora: {
        name: "SYKORA",
        ticker: "SYKORA",
        explorerUrl: "https://kaspa.com/nft/collections/SYKORA",
        totalSupply: 40,
        totalMinted: 1,
        floorPriceKas: null,
        mintPriceKas: null,
        items: [
          {
            tokenId: 1,
            name: "SYKORA #1",
            image: "/assets/img/nft/SYKORA_1.png",
            listedPriceKas: null
          }
        ]
      }
    };

    const gridEl = document.getElementById("grid");
    const statusEl = document.getElementById("status");
    const metaEl = document.getElementById("meta");
    const switchButtons = document.querySelectorAll(".collection-button");

    let currentKey = "pixelonkas";

    function formatKas(v) {
      if (v == null) return "—";
      return v + " KAS";
    }

    function renderMeta(collection) {
      metaEl.innerHTML = "";

      const pills = [
        ["Supply", collection.totalSupply],
        ["Minted", collection.totalMinted],
        ["Mint price", formatKas(collection.mintPriceKas)],
        ["Floor", formatKas(collection.floorPriceKas)]
      ];

      pills.forEach(function (entry) {
        const label = entry[0];
        const value = entry[1];
        const div = document.createElement("div");
        div.className = "meta-pill";
        div.innerHTML = label + ': <span>' + value + "</span>";
        metaEl.appendChild(div);
      });
    }

    function renderCollection(key) {
      const col = collections[key];
      if (!col) return;

      currentKey = key;

      switchButtons.forEach(function (btn) {
        btn.classList.toggle("active", btn.dataset.collection === key);
      });

      renderMeta(col);

      if (!col.items || col.items.length === 0) {
        gridEl.innerHTML = "";
        statusEl.innerHTML =
          "No items defined yet. Add NFTs to the collection config in the viewer.";
        return;
      }

      statusEl.innerHTML =
        "<strong>" +
        col.items.length +
        "</strong> items displayed from the " +
        col.name +
        " collection.";

      gridEl.innerHTML = "";
      col.items.forEach(function (item) {
        const card = document.createElement("div");
        card.className = "nft-card";

        const thumbWrap = document.createElement("div");
        thumbWrap.className = "nft-thumb-wrapper";

        const img = document.createElement("img");
        img.className = "nft-thumb";
        img.src = item.image;
        img.alt = item.name || "Token #" + item.tokenId;
        thumbWrap.appendChild(img);

        const title = document.createElement("div");
        title.className = "nft-title";
        title.textContent =
          item.name || col.name + " #" + item.tokenId;

        const meta = document.createElement("div");
        meta.className = "nft-meta";
        meta.innerHTML =
          "<span>ID: " +
          item.tokenId +
          "</span><span>" +
          (item.listedPriceKas ? formatKas(item.listedPriceKas) : "") +
          "</span>";

        const actions = document.createElement("div");
        actions.className = "nft-actions";

        const openKaspa = document.createElement("a");
        openKaspa.className = "nft-link";
        openKaspa.href = col.explorerUrl;
        openKaspa.target = "_blank";
        openKaspa.rel = "noopener noreferrer";
        openKaspa.textContent = "View on Kaspacom";

        const openCollection = document.createElement("a");
        openCollection.className = "nft-link-secondary";
        openCollection.href = col.explorerUrl;
        openCollection.target = "_blank";
        openCollection.rel = "noopener noreferrer";
        openCollection.textContent = "Open collection";

        actions.appendChild(openKaspa);
        actions.appendChild(openCollection);

        card.appendChild(thumbWrap);
        card.appendChild(title);
        card.appendChild(meta);
        card.appendChild(actions);

        gridEl.appendChild(card);
      });
    }

    switchButtons.forEach(function (btn) {
      btn.addEventListener("click", function () {
        const key = btn.dataset.collection;
        renderCollection(key);
      });
    });

    renderCollection(currentKey);
  });
</script>
</body>
</html>
